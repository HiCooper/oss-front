(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{269:function(e,t,a){e.exports=a(539)},287:function(e,t,a){},358:function(e,t,a){},364:function(e,t,a){},460:function(e,t,a){},461:function(e,t,a){},504:function(e,t,a){},508:function(e,t,a){},517:function(e,t,a){},520:function(e,t,a){},525:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){},530:function(e,t,a){e.exports=a.p+"static/media/NotFound-260-260.8c382430.png"},531:function(e,t,a){},532:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),c=a(46),l=a(85),o=a(0),s=a.n(o),i=(a(150),a(102)),u=(a(66),a(26)),m=(a(63),a(4)),p=(a(106),a(29)),d=(a(279),a(190)),f=(a(281),a(117)),h=a(19),E=a.n(h),b=a(32),v=a(12),g=a(13),y=a(15),k=a(14),S=a(16),w=(a(67),a(35)),C=(a(152),a(41)),j=(a(194),a(144)),x=(a(287),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"overview"},s.a.createElement("div",{className:"oss-box"},s.a.createElement("div",{className:"box-hd"},s.a.createElement("h3",null,"\u57fa\u7840\u6570\u636e")),s.a.createElement("div",{className:"box-bd"},s.a.createElement("div",{className:"card-list"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-hd"},s.a.createElement("span",null,"\u5b58\u50a8\u7528\u91cf"),s.a.createElement("span",null,"\u5269\u4f59\u53ef\u7528: 12.383 G")),s.a.createElement("div",{className:"card-bd"},s.a.createElement("div",{className:"info"},s.a.createElement("div",null,s.a.createElement("span",null,"\u5df2\u4f7f\u7528\uff1a"),s.a.createElement("span",{className:"display-value"},"5.307"),s.a.createElement("span",{className:"display-unit"},"G")),s.a.createElement("div",null,s.a.createElement("span",null,"\u603b\u5bb9\u91cf\uff1a"),s.a.createElement("span",{className:"display-value"},"17.69"),s.a.createElement("span",{className:"display-unit"},"G"))),s.a.createElement(j.a,{percent:30,size:"small"}))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-hd"},s.a.createElement("span",null,"Bucket")),s.a.createElement("div",{className:"card-bd"},s.a.createElement("span",{className:"display-value"},"2"),s.a.createElement("span",{className:"display-unit"},"\u4e2a")))))))}}]),t}(o.Component)),O=(a(207),a(42)),N=(a(338),a(118)),I=(a(168),a(89)),D=(a(43),a(10)),A=a(53),R=(a(169),a(86)),P=a(250),L=a.n(P);function B(e){if(e.isDir)return"folder";var t=e.fileName.toLowerCase();return t.endsWith(".jpg")||t.endsWith(".jpeg")||t.endsWith(".svg")||t.endsWith(".png")||t.endsWith(".bmg")||t.endsWith(".gif")?"file-image":t.endsWith(".xls")||t.endsWith(".xlsx")?"file-excel":t.endsWith(".doc")||t.endsWith(".docx")?"file-word":t.endsWith(".ppt")||t.endsWith(".pptx")?"file-ppt":t.endsWith(".pdf")?"file-pdf":t.endsWith(".md")?"file-markdown":t.endsWith(".zip")?"file-zip":t.endsWith(".txt")?"file-text":"file-unknown"}var T=a(103),M=a.n(T),K="User-Token",U="User-Info";function W(){return localStorage.getItem(K)}function z(){return localStorage.getItem(U)}function _(){localStorage.clear()}M.a.defaults.baseURL="http://47.101.42.169:8077",M.a.defaults.timeout=5e3,M.a.interceptors.request.use(function(e){return e.headers.authorization=W(),e},function(e){return Promise.reject(e)}),M.a.interceptors.response.use(function(e){return Promise.resolve(e)},function(e){var t=e.response,a=t.status,n=t.statusText;return 403===a&&"Forbidden"===n?(u.a.error("\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),_(),localStorage.clear(),window.location.replace("".concat(window.location.protocol,"//").concat(window.location.host,"/#/user/login"))):(console.error(e),u.a.error("500,\u670d\u52a1\u5668\u51fa\u73b0\u4e86\u70b9\u95ee\u9898")),Promise.reject(e)});var F=M.a,V=function(e){return F.get("/ajax/bucket/file/list_objects.json",{params:e}).then(function(e){return e.data})},H=function(e){return F.get("/ajax/bucket/file/head_object.json",{params:e}).then(function(e){return e.data})},q=function(e){return F.post("/ajax/bucket/file/delete_objects.json",e).then(function(e){return e.data})},X=function(e){return F.post("/ajax/bucket/file/create_folder.json",e).then(function(e){return e.data})},G=function(e){return F.post("/ajax/bucket/file/set_object_acl.json",e).then(function(e){return e.data})},J="".concat(F.defaults.baseURL,"/ajax/bucket/file/create"),Q=function(e){return F.post("/ajax/bucket/file/generate_url_with_signed.json",e).then(function(e){return e.data})},Y=(a(358),a(170),a(88)),$=(a(111),a(61)),Z=(a(71),a(11)),ee=(a(110),a(27)),te=(a(362),a(264)),ae=a(187),ne=a.n(ae),re="BucketInfoKey";function ce(){var e=localStorage.getItem(re);return e?JSON.parse(e):(window.location.replace("".concat(window.location.protocol,"//").concat(window.location.host,"/#/")),null)}function le(e){localStorage.setItem(re,e)}a(364);var oe={labelCol:{xs:{span:24},s:{span:5},sm:{span:4}},wrapperCol:{xs:{span:24},s:{span:19},sm:{span:20}}},se={EXTEND_BUCKET:s.a.createElement("span",{style:{fontSize:"12px"}},"\u7ee7\u627f Bucket\uff1a\u5355\u4e2a\u6587\u4ef6\u7684\u8bfb\u5199\u6743\u9650\u6309 Bucket \u7684\u8bfb\u5199\u6743\u9650\u4e3a\u51c6\u3002"),PRIVATE:s.a.createElement("span",{style:{fontSize:"12px"}},"\u79c1\u6709\uff1a\u5bf9\u6587\u4ef6\u7684\u6240\u6709\u8bbf\u95ee\u64cd\u4f5c\u9700\u8981\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002"),PUBLIC_READ:s.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u516c\u5171\u8bfb\uff1a\u5bf9\u6587\u4ef6\u5199\u64cd\u4f5c\u9700\u8981\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff1b\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u533f\u540d\u8bfb\u3002"),PUBLIC:s.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u516c\u5171\u8bfb\u5199\uff1a\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002")},ie=te.a.Dragger,ue=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).uploadBtnOnchange=function(e){console.log(e),"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(u.a.success("".concat(e.file.name," ").concat(e.file.response.data&&e.file.response.data)),a.props.onSuccess(),a.props.onClose()):"error"===e.file.status&&u.a.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25\uff0c").concat(e.file.response.msg))},a.beforeUploadHook=function(){var e=Object(b.a)(E.a.mark(function e(t,n){var r,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>100)){e.next=3;break}return u.a.warning("\u6700\u591a\u540c\u65f6\u4e0a\u4f20\u6570\u91cf\u4e3a100"),e.abrupt("return",Promise.reject("\u6700\u591a\u540c\u65f6\u4e0a\u4f20\u6570\u91cf\u4e3a100"));case 3:if((r=a.state.uploadPath)&&r.trim()){e.next=9;break}return e.next=7,a.setState({inputPathErrorMsg:s.a.createElement("span",{style:pe.errorMsg},"\u6307\u5b9a\u76ee\u5f55\u4e0d\u80fd\u4e3a\u7a7a")});case 7:return u.a.warning("\u6307\u5b9a\u76ee\u5f55\u4e0d\u80fd\u4e3a\u7a7a"),e.abrupt("return",Promise.reject("\u6307\u5b9a\u76ee\u5f55\u4e0d\u80fd\u4e3a\u7a7a"));case 9:return e.prev=9,c=new FileReader,e.next=13,c.readAsArrayBuffer(t);case 13:c.onload=function(){var e=Object(b.a)(E.a.mark(function e(n){var r,l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.readyState!==FileReader.DONE){e.next=5;break}return r=ne.a.lib.WordArray.create(c.result),l=ne.a.SHA256(r).toString().toUpperCase(),e.next=5,a.setState({hash:l,fileSize:t.size});case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(9),e.abrupt("return",Promise.reject(e.t0));case 19:case"end":return e.stop()}},e,null,[[9,16]])}));return function(t,a){return e.apply(this,arguments)}}(),a.aclChange=function(e){e.preventDefault(),a.setState({acl:e.target.value,aclMessage:se[e.target.value]})},a.currentFilePathChange=function(e){e.preventDefault();var t=a.state,n=t.uploadPath,r=t.uploadPathMessage,c=t.bucketInfo,l=t.currentFilePath,o=r,i=n,u=t.inputPathErrorMsg;e.target.value!==l?(i="",o=s.a.createElement("div",{className:"upload-help-info"},s.a.createElement("div",{className:"oss-intl-lines"},s.a.createElement("p",null,"\u76ee\u5f55\u547d\u540d\u89c4\u8303\uff1a"),s.a.createElement("ol",null,s.a.createElement("li",null,"\u4e0d\u5141\u8bb8\u4f7f\u7528\u8868\u60c5\u7b26\uff0c\u8bf7\u4f7f\u7528\u7b26\u5408\u8981\u6c42\u7684 UTF-8 \u5b57\u7b26"),s.a.createElement("li",null,s.a.createElement("code",null,"/"),"\u7528\u4e8e\u5206\u5272\u8def\u5f84\uff0c\u53ef\u5feb\u901f\u521b\u5efa\u5b50\u76ee\u5f55\uff0c\u4f46\u4e0d\u8981\u4ee5",s.a.createElement("code",null,"/"),"\u6216",s.a.createElement("code",null,"\\"),"\u6253\u5934\uff0c\u4e0d\u8981\u51fa\u73b0\u8fde\u7eed\u7684",s.a.createElement("code",null,"/")),s.a.createElement("li",null,"\u4e0d\u5141\u8bb8\u51fa\u73b0\u540d\u4e3a",s.a.createElement("code",null,".."),"\u7684\u5b50\u76ee\u5f55"),s.a.createElement("li",null,"\u603b\u957f\u5ea6\u63a7\u5236\u5728 1-254 \u4e2a\u5b57\u7b26"))))):(i=l,o="oss://".concat(c.name,"/"),u=""),a.setState({radioSelect:e.target.value,uploadPathMessage:o,uploadPath:i,inputPathErrorMsg:u})},a.uploadPathInputChange=function(e){e.preventDefault();var t=e.target.value,n=me(t);a.setState({uploadPath:t,inputPathErrorMsg:n})};var n=ce();return a.state={bucketInfo:n,currentFilePath:a.props.currentPath,hash:"",fileSize:0,acl:"EXTEND_BUCKET",aclMessage:se.EXTEND_BUCKET,uploadPath:a.props.currentPath,uploadPathMessage:"oss://".concat(n.name+a.props.currentPath),radioSelect:a.props.currentPath,inputPathErrorMsg:""},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.bucketInfo,a=e.currentFilePath,n=e.radioSelect,r=e.uploadPath,c=e.hash,l=e.fileSize,o=e.acl,i=e.aclMessage,u=e.uploadPathMessage,p=e.inputPathErrorMsg;return s.a.createElement($.a,{width:640,placement:"right",closable:!0,maskClosable:!1,onClose:this.props.onClose,visible:this.props.visible,className:"oss-drawer",title:"\u4e0a\u4f20\u6587\u4ef6"},s.a.createElement(Z.a,oe,s.a.createElement(Z.a.Item,{label:"\u4e0a\u4f20\u5230",validateStatus:"success",help:u},s.a.createElement(ee.a.Group,{value:n,onChange:this.currentFilePathChange},s.a.createElement(ee.a.Button,{value:a},"\u5f53\u524d\u76ee\u5f55"),s.a.createElement(ee.a.Button,{value:"USE_CUSTOM"},"\u6307\u5b9a\u76ee\u5f55")),n!==a?s.a.createElement(w.a,{placeholder:"\u6839\u76ee\u5f55",value:r,suffix:"".concat(r.length,"/254"),onChange:this.uploadPathInputChange}):null,p?s.a.createElement("div",{style:{lineHeight:"18px"}},p):null),s.a.createElement(Z.a.Item,{label:"\u8bfb\u5199\u6743\u9650",validateStatus:"success",help:i},s.a.createElement(ee.a.Group,{value:o,onChange:this.aclChange},s.a.createElement(ee.a.Button,{value:"EXTEND_BUCKET"},"\u7ee7\u627f Bucket"),s.a.createElement(ee.a.Button,{value:"PRIVATE"},"\u79c1\u6709"),s.a.createElement(ee.a.Button,{value:"PUBLIC_READ"},"\u516c\u5171\u8bfb"),s.a.createElement(ee.a.Button,{value:"PUBLIC_READ_WRITE"},"\u516c\u5171\u8bfb\u5199"))),s.a.createElement(Z.a.Item,{label:"\u4e0a\u4f20\u6587\u4ef6",help:de},s.a.createElement(ie,{accept:"image/*,audio/*,video/*,.pdf,.doc,.docx,xls,.xlsx,.ppt,.pptx,.md,.xml,.json",name:"file",action:J,multiple:!0,headers:{authorization:W(),Digest:c,fileSize:l},data:{bucket:t.name,filePath:r,acl:o},beforeUpload:this.beforeUploadHook,onChange:this.uploadBtnOnchange},s.a.createElement("p",{className:"ant-upload-drag-icon"},s.a.createElement(m.a,{type:"inbox"})),s.a.createElement("p",{className:"ant-upload-text"},"\u5355\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20"),s.a.createElement("p",{className:"ant-upload-hint"},"\u652f\u6301\u5355\u4e2a\u6216\u6279\u91cf\u4e0a\u4f20,\u6700\u591a\u540c\u65f6\u4e0a\u4f20100\u4e2a")))))}}]),t}(o.Component);ue.displayName="UploadFileDrawer";var me=function(e){return e.startsWith("//")?s.a.createElement("span",{style:pe.errorMsg},"\u76ee\u5f55\u8def\u5f84\u4e0d\u5141\u8bb8\u51fa\u73b0\u8fde\u7eed\u7684\u300c/\u300d"):e.startsWith("/")||e.endsWith("\\")?s.a.createElement("span",{style:pe.errorMsg},"\u6587\u4ef6\u540d\u4e0d\u80fd\u4ee5",s.a.createElement("code",null,"/"),"\u6216",s.a.createElement("code",null,"\\"),"\u5f00\u5934\u548c\u7ed3\u5c3e\u3002"):e.length>254?s.a.createElement("span",null,"\u76ee\u5f55\u957f\u5ea6\u4e0d\u8d85\u8fc7 254 \u4e2a\u5b57\u7b26"):-1!==e.indexOf("..")?s.a.createElement("span",{style:pe.errorMsg},"\u4e0d\u5141\u8bb8\u51fa\u73b0\u540d\u4e3a",s.a.createElement("code",null,".."),"\u7684\u5b50\u76ee\u5f55"):""},pe={errorMsg:{color:"red",fontSize:"12px"}},de=s.a.createElement("div",{className:"upload-help-info"},s.a.createElement("div",{className:"oss-intl-lines"},s.a.createElement("p",null,"\u6587\u4ef6\u7684\u547d\u540d\u89c4\u8303\u5982\u4e0b\uff1a"),s.a.createElement("ol",null,s.a.createElement("li",null,"\u4f7f\u7528 UTF-8 \u7f16\u7801\uff1b"),s.a.createElement("li",null,"\u533a\u5206\u5927\u5c0f\u5199\uff1b"),s.a.createElement("li",null,"\u957f\u5ea6\u5fc5\u987b\u5728 1-1023 \u5b57\u8282\u4e4b\u95f4\uff1b"),s.a.createElement("li",null,"\u4e0d\u80fd\u4ee5",s.a.createElement("code",null,"/"),"\u6216\u8005",s.a.createElement("code",null,"\\"),"\u5b57\u7b26\u5f00\u5934\u3002"))),s.a.createElement(Y.a,{message:"\u6ce8\u610f\uff0cBucket \u4e0b\u82e5\u5b58\u5728\u540c\u540d\u6587\u4ef6\uff0c\u5c06\u88ab\u65b0\u4e0a\u4f20\u7684\u6587\u4ef6\u8986\u76d6\u3002",type:"warning",showIcon:!0})),fe=ue,he=(a(458),a(265)),Ee=(a(151),a(60)),be=(a(460),{EXTEND_BUCKET:"\u7ee7\u627f Bucket",PRIVATE:"\u79c1\u6709",PUBLIC_READ:"\u516c\u5171\u8bfb",PUBLIC_READ_WRITE:"\u516c\u5171\u8bfb\u5199"});function ve(e){return be[e]}var ge={labelCol:{xs:{span:24},s:{span:5},sm:{span:5}},wrapperCol:{xs:{span:24},s:{span:19},sm:{span:19}}},ye="png, jpg, jpeg, bmg, gif, svg",ke=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).onChange=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({timeout:t});case 2:t>=60&&t<=64800&&a.generateUrlWithSigned();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getObjectHeadInfo=function(){var e=a.state,t=e.detailInfo,n=e.bucketInfo,r={path:t.filePath,bucket:n.name,objectName:t.fileName};H(r).then(function(e){"SUCCESS"===e.msg&&a.setState({objectHeadInfo:e.data})}).catch(function(e){console.error(e)})},a.generateUrlWithSigned=function(){var e=a.state,t=e.detailInfo,n=e.timeout,r=e.bucketInfo,c="/"===t.filePath?"/".concat(t.fileName):"".concat(t.filePath,"/").concat(t.fileName),l={bucket:r.name,objectPath:c,timeout:n};Q(l).then(function(e){"SUCCESS"===e.msg&&a.setState({genTempUrlInfo:e.data})}).catch(function(e){console.error(e)})},a.renderFilePreview=function(){var e=a.state,t=e.detailInfo,n=e.genTempUrlInfo;return!t.isDir&&t.category&&n.url&&-1!==ye.indexOf(t.category.toLowerCase())?s.a.createElement("img",{src:"".concat(n.url,"?").concat(n.signature),alt:"\u6587\u4ef6\u65e0\u6cd5\u9884\u89c8\u3002"}):s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(m.a,{type:B(t),theme:"filled",style:{color:"#ffeb3b",marginRight:"8px",fontSize:"200px"}}),s.a.createElement("p",null,t.fileName))};var n=ce();return a.state={bucketInfo:n,detailInfo:a.props.info,timeout:3600,genTempUrlInfo:{},objectHeadInfo:{}},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.generateUrlWithSigned(),this.getObjectHeadInfo()}},{key:"render",value:function(){var e=this.state,t=e.detailInfo,a=e.genTempUrlInfo,n=e.objectHeadInfo,r=e.bucketInfo;return s.a.createElement($.a,{width:640,placement:"right",closable:!0,maskClosable:!0,onClose:this.props.onClose,visible:this.props.visible,className:"oss-drawer",title:"\u8be6\u60c5"},s.a.createElement("div",{className:"oss-op-file-preview"},s.a.createElement("div",{className:"preview-con"},s.a.createElement("div",{className:"the-previewer-wrapper"},this.renderFilePreview())),s.a.createElement(Z.a,Object.assign({},ge,{className:"detail-form"}),t.isDir?s.a.createElement("div",null,s.a.createElement(Z.a.Item,{label:"\u6587\u4ef6\u7c7b\u578b",validateStatus:"success"},"\u6587\u4ef6\u5939"),s.a.createElement(Z.a.Item,{label:"\u5927\u5c0f",validateStatus:"success"},"100M"),s.a.createElement(Z.a.Item,{label:"\u5b50\u6587\u4ef6",validateStatus:"success"},"11\u9879")):s.a.createElement("div",null,s.a.createElement(Z.a.Item,{label:"\u6587\u4ef6\u540d",validateStatus:"success"},t.fileName),s.a.createElement(Z.a.Item,{label:"ETag",validateStatus:"success"},n.eTag),t.acl.startsWith("PRIVATE")||t.acl.startsWith("EXTEND")&&r.acl.startsWith("PRIVATE")?s.a.createElement(Z.a.Item,{label:s.a.createElement("span",null,"\u94fe\u63a5\u6709\u6548\u65f6\u95f4(s)",s.a.createElement(Ee.a,{autoAdjustOverflow:!0,arrowPointAtCenter:!0,placement:"topLeft",title:"\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u94fe\u63a5\u5730\u5740\u53ef\u8bbf\u95ee\u7684\u6709\u6548\u65f6\u95f4(1min-18h)\uff0c\u8bbf\u95ee\u8005\u53ef\u4ee5\u5728\u6709\u6548\u65f6\u95f4\u5185\uff0c\u901a\u8fc7\u6b64\u94fe\u63a5\u8bbf\u95ee\u8be5\u6587\u4ef6"},s.a.createElement(m.a,{type:"question-circle-o",style:{margin:"0 5px"}}))),validateStatus:"success"},s.a.createElement(he.a,{min:60,max:64800,defaultValue:3600,onChange:this.onChange,style:{width:"100%"}})):null,s.a.createElement(Z.a.Item,{label:"URL"},s.a.createElement("div",{className:"object-url"},t.acl.startsWith("PUBLIC")||t.acl.startsWith("EXTEND")&&r.acl.startsWith("PUBLIC")?a.url:"".concat(a.url,"?").concat(a.signature))),s.a.createElement(Z.a.Item,{label:"\u7c7b\u578b",validateStatus:"success"},t.category)),s.a.createElement(Z.a.Item,{label:"\u6587\u4ef6ACL",validateStatus:"success"},ve(t.acl)),s.a.createElement(Z.a.Item,{label:"\u4e0a\u6b21\u4fee\u6539\u65f6\u95f4",validateStatus:"success"},t.updateTime))))}}]),t}(o.Component);ke.displayName="DetailDrawer";var Se=Z.a.create({name:"object-detail-form"})(ke),we={labelCol:{xs:{span:24},s:{span:5},sm:{span:4}},wrapperCol:{xs:{span:24},s:{span:19},sm:{span:20}}},Ce={EXTEND_BUCKET:s.a.createElement("span",{style:{fontSize:"12px"}},"\u7ee7\u627f Bucket\uff1a\u5355\u4e2a\u6587\u4ef6\u7684\u8bfb\u5199\u6743\u9650\u6309 Bucket \u7684\u8bfb\u5199\u6743\u9650\u4e3a\u51c6\u3002"),PRIVATE:s.a.createElement("span",{style:{fontSize:"12px"}},"\u79c1\u6709\uff1a\u5bf9\u6587\u4ef6\u7684\u6240\u6709\u8bbf\u95ee\u64cd\u4f5c\u9700\u8981\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002"),PUBLIC_READ:s.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u516c\u5171\u8bfb\uff1a\u5bf9\u6587\u4ef6\u5199\u64cd\u4f5c\u9700\u8981\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff1b\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u533f\u540d\u8bfb\u3002"),PUBLIC_READ_WRITE:s.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u516c\u5171\u8bfb\u5199\uff1a\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002")},je=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).aclChange=function(e){e.preventDefault(),a.setState({aclMessage:Ce[e.target.value],acl:e.target.value})},a.setObjectAclSubmit=function(e){e.preventDefault(),a.setState({submitLoading:!0});var t=a.state,n=t.bucketInfo,r=t.objectInfo,c=t.acl,l={bucket:n.name,objectPath:r.filePath,objectName:r.fileName,acl:c};G(l).then(function(e){"SUCCESS"===e.msg&&(u.a.success("\u64cd\u4f5c\u6210\u529f"),a.props.onSuccess(),a.props.onClose())}).catch(function(e){console.error(e)}),a.setState({submitLoading:!1})};var n=ce();return a.state={bucketInfo:n,defaultAcl:a.props.info.acl,acl:a.props.info.acl,submitLoading:!1,aclMessage:Ce[n.acl],objectInfo:a.props.info},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.defaultAcl,a=e.acl,n=e.submitLoading,r=e.aclMessage;return s.a.createElement($.a,{width:640,placement:"right",closable:!0,maskClosable:!1,onClose:this.props.onClose,visible:this.props.visible,className:"oss-drawer",title:"\u8bbe\u7f6e\u8bfb\u5199\u6743\u9650"},s.a.createElement(Z.a,Object.assign({},we,{onSubmit:this.setObjectAclSubmit}),s.a.createElement(Z.a.Item,{label:"\u8bfb\u5199\u6743\u9650",validateStatus:"success",help:r},s.a.createElement(ee.a.Group,{defaultValue:t,value:a,onChange:this.aclChange},s.a.createElement(ee.a.Button,{value:"EXTEND_BUCKET"},"\u7ee7\u627f Bucket"),s.a.createElement(ee.a.Button,{value:"PRIVATE"},"\u79c1\u6709"),s.a.createElement(ee.a.Button,{value:"PUBLIC_READ"},"\u516c\u5171\u8bfb"),s.a.createElement(ee.a.Button,{value:"PUBLIC_READ_WRITE"},"\u516c\u5171\u8bfb\u5199"))),s.a.createElement("div",{className:"form-btn"},s.a.createElement(D.a,{loading:n,type:"primary",htmlType:"submit",style:{marginRight:8},disabled:t===a},"\u786e\u8ba4"),s.a.createElement(D.a,{onClick:this.props.onClose},"\u53d6\u6d88"))))}}]),t}(o.Component);je.displayName="AddBucketDrawer";var xe=Z.a.create({name:"normal_login"})(je),Oe=(a(461),{labelCol:{xs:{span:24},s:{span:5},sm:{span:5}},wrapperCol:{xs:{span:24},s:{span:19},sm:{span:19}}}),Ne=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).validateFolder=function(e,t,n){!t||t.trim().length<1||t.trim().length>254?n(s.a.createElement("span",{style:{fontSize:"12px",color:"red"}},"1-254\u4e2a\u5b57\u7b26\u957f\u5ea6")):-1===t.indexOf("//")?-1===t.indexOf("..")?t.startsWith("/")||t.startsWith("\\")||t.endsWith("/")||t.endsWith("\\")?n(s.a.createElement("span",{style:{fontSize:"12px",color:"red"}},"\u6587\u4ef6\u540d\u4e0d\u80fd\u4ee5",s.a.createElement("code",null,"/"),"\u6216",s.a.createElement("code",null,"\\"),"\u5f00\u5934\u548c\u7ed3\u5c3e\u3002")):(a.setState({objectName:t}),n()):n(s.a.createElement("span",{style:{fontSize:"12px",color:"red"}},"\u76ee\u5f55\u8def\u5f84\u4e2d\u4e0d\u5141\u8bb8\u51fa\u73b0\u540d\u4e3a\u300c..\u300d\u7684\u5b50\u76ee\u5f55")):n(s.a.createElement("span",{style:{fontSize:"12px",color:"red"}},"\u76ee\u5f55\u8def\u5f84\u4e0d\u5141\u8bb8\u51fa\u73b0\u8fde\u7eed\u7684\u300c/\u300d"))},a.createFolderSubmit=function(e){e.preventDefault(),a.setState({submitLoading:!0});var t=a.state.bucketInfo;a.props.form.validateFields(function(e,n){e||(n.bucket=t.name,X(n).then(function(e){"SUCCESS"===e.msg&&(a.props.onSuccess(),a.props.onClose())}).catch(function(e){console.error(e)}))}),a.setState({submitLoading:!1})};var n=ce();return a.state={objectName:"",bucketInfo:n,submitLoading:!1},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.submitLoading,a=e.objectName,n=this.props.form,r=n.getFieldDecorator,c=n.getFieldError;return s.a.createElement($.a,{width:640,placement:"right",closable:!0,maskClosable:!1,onClose:this.props.onClose,visible:this.props.visible,className:"oss-drawer",title:"\u8be6\u60c5"},s.a.createElement(Z.a,Object.assign({},Oe,{className:"add-folder-form",onSubmit:this.createFolderSubmit}),s.a.createElement(Z.a.Item,{label:"\u76ee\u5f55\u540d",extra:Ie},r("objectName",{rules:[{validator:this.validateFolder}],initialValue:a})(s.a.createElement(w.a,{placeholder:"\u76f8\u5bf9\u6839\u76ee\u5f55",suffix:"".concat(a.length,"/254")}))),s.a.createElement("div",{className:"form-btn"},s.a.createElement(D.a,{loading:t,type:"primary",htmlType:"submit",style:{marginRight:8},disabled:!!c("objectName")||!a},"\u786e\u8ba4"),s.a.createElement(D.a,{onClick:this.props.onClose},"\u53d6\u6d88"))))}}]),t}(o.Component);Ne.displayName="DetailDrawer";var Ie=s.a.createElement("div",{className:"upload-help-info"},s.a.createElement("div",{className:"oss-intl-lines"},s.a.createElement("p",null,"\u76ee\u5f55\u547d\u540d\u89c4\u8303\uff1a"),s.a.createElement("ol",null,s.a.createElement("li",null,"\u4e0d\u5141\u8bb8\u4f7f\u7528\u8868\u60c5\u7b26\uff0c\u8bf7\u4f7f\u7528\u7b26\u5408\u8981\u6c42\u7684 UTF-8 \u5b57\u7b26"),s.a.createElement("li",null,s.a.createElement("code",null,"/"),"\u7528\u4e8e\u5206\u5272\u8def\u5f84\uff0c\u53ef\u5feb\u901f\u521b\u5efa\u5b50\u76ee\u5f55\uff0c\u4f46\u4e0d\u8981\u4ee5",s.a.createElement("code",null,"/"),"\u6216",s.a.createElement("code",null,"\\"),"\u6253\u5934\uff0c\u4e0d\u8981\u51fa\u73b0\u8fde\u7eed\u7684",s.a.createElement("code",null,"/")),s.a.createElement("li",null,"\u4e0d\u5141\u8bb8\u51fa\u73b0\u540d\u4e3a",s.a.createElement("code",null,".."),"\u7684\u5b50\u76ee\u5f55"),s.a.createElement("li",null,"\u603b\u957f\u5ea6\u63a7\u5236\u5728 1-254 \u4e2a\u5b57\u7b26"))),s.a.createElement(Y.a,{message:"\u6ce8\u610f\uff0cBucket \u4e0b\u82e5\u5b58\u5728\u540c\u540d\u76ee\u5f55\uff0c\u5c06\u4f1a\u5ffd\u7565\u3002",type:"warning",showIcon:!0})),De=Z.a.create({name:"add-folder-form"})(Ne),Ae=w.a.Search,Re=R.a.confirm,Pe=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).initObjectList=Object(b.a)(E.a.mark(function e(){var t,n,r,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.currentPath,r=t.search,e.next=3,a.setState({tableLoading:!0});case 3:return c=r?"":n,e.next=6,V({bucket:a.state.bucketName,path:c,search:r}).then(function(e){"SUCCESS"===e.msg&&a.setState({objectList:e.data})}).catch(function(e){console.error(e)});case 6:a.setState({tableLoading:!1});case 7:case"end":return e.stop()}},e)})),a.goSearchObject=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({search:t});case 2:a.initObjectList();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onSelectChange=function(e,t){a.setState({selectedRowKeys:e,selectedRows:t})},a.renderFileName=function(e,t){var n="green";return t.isDir&&(n="#ffeb3b"),s.a.createElement("div",null,s.a.createElement(m.a,{type:B(t),theme:"filled",style:{color:n,marginRight:"8px",fontSize:"18px"}}),s.a.createElement("span",{className:"list-file-name",onClick:function(e){return a.detailDrawerShow(t,e)}},e))},a.onRowClick=function(e,t){t.preventDefault();var n=a.state,r=n.selectedRowKeys,c=n.selectedRows,l=r.filter(function(t){return t!==e.id}),o=c.filter(function(t){return t.id!==e.id});l.length===r.length&&l.push(e.id),o.length===c.length&&o.push(e),a.setState({selectedRows:o,selectedRowKeys:l})},a.onRowDoubleClick=function(){var e=Object(b.a)(E.a.mark(function e(t,n){var r,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=a.props.location.pathname,!t.isDir){e.next=8;break}return c="/"===t.filePath?"/".concat(t.fileName):"".concat(t.filePath,"/").concat(t.fileName),e.next=6,a.setState({currentPath:c});case 6:a.props.history.push("".concat(r,"?path=").concat(encodeURIComponent(c))),a.initObjectList();case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onRowContextMenu=function(e,t){t.preventDefault()},a.onRowMouseEnter=function(e,t){t.preventDefault()},a.onRowMouseLeave=function(e,t){t.preventDefault()},a.beginDownload=function(){var e=Object(b.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.a.info("\u7a0d\u540e\u5c06\u81ea\u52a8\u4e0b\u8f7d..."),e.next=3,a.getObjectUrl(t);case 3:(n=e.sent)&&(-1!==n.indexOf("&")?window.location.assign("".concat(n,"&Download=true")):window.location.assign("".concat(n,"?Download=true")));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.copyUrlToClipboard=function(){var e=Object(b.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getObjectUrl(t);case 2:n=e.sent,L()(n),u.a.success("\u590d\u5236\u6210\u529f");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getObjectUrl=function(){var e=Object(b.a)(E.a.mark(function e(t){var n,r,c,l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.bucketInfo,r="/"===t.filePath?"/".concat(t.fileName):"".concat(t.filePath,"/").concat(t.fileName),c={bucket:n.name,objectPath:r,timeout:60},l="",e.next=6,Q(c).then(function(e){if("SUCCESS"===e.msg){var a=e.data;l=!t.acl||t.acl.startsWith("PRIVATE")||t.acl.startsWith("EXTEND")&&n.acl.startsWith("PRIVATE")?"".concat(a.url,"?").concat(a.signature):"".concat(a.url)}}).catch(function(e){console.error(e)});case 6:return e.abrupt("return",l);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleMoreMenuClick=function(){var e=Object(b.a)(E.a.mark(function e(t,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!==n.key){e.next=4;break}return e.next=3,a.showSetObjectAclDrawer(t);case 3:return e.abrupt("return");case 4:if("2"!==n.key){e.next=8;break}return e.next=7,a.beginDownload(t);case 7:return e.abrupt("return");case 8:if("3"!==n.key){e.next=12;break}return e.next=11,a.copyUrlToClipboard(t);case 11:return e.abrupt("return");case 12:"4"===n.key&&a.showDeleteConfirm(t);case 13:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.deleteObject=function(){var e=Object(b.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={bucket:a.state.bucketName,objects:t},e.next=3,q(n).then(function(e){"SUCCESS"===e.msg&&(u.a.success("\u64cd\u4f5c\u6210\u529f"),a.initObjectList())}).catch(function(e){console.error(e),u.a.error("\u64cd\u4f5c\u5931\u8d25")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.checkSelect=function(){var e=a.state.selectedRows;return e.filter(function(e){return!0===e.isDir}).length>0||e.length<1},a.checkSelectForDelete=function(){return a.state.selectedRows.length<1},a.menu=function(){return s.a.createElement(p.b,{onClick:a.handleMenuClick},s.a.createElement(p.b.Item,{key:"1",disabled:a.checkSelect()},"\u4e0b\u8f7d"),s.a.createElement(p.b.Item,{key:"2",disabled:a.checkSelectForDelete()},"\u5220\u9664"))},a.handleMenuClick=function(){var e=Object(b.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!==t.key){e.next=4;break}return n=a.state.selectedRows,console.log(n),e.abrupt("return");case 4:"2"===t.key&&a.showBatchDeleteWarning();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.showBatchDeleteWarning=function(){var e=Object(A.a)(a);Re({title:"\u6279\u91cf\u5220\u9664",centered:!0,content:s.a.createElement("div",{style:{color:"red"}},"\u6279\u91cf\u5220\u9664\u5bf9\u8c61\uff0c\u8be5\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u614e\u91cd\u64cd\u4f5c!"),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){for(var t=e.state.selectedRows,a="",n=0;n<t.length;n++){var r=t[n];a+="/"===r.filePath?r.fileName:"".concat(r.filePath,"/").concat(r.fileName),n<t.length-1&&(a+=",")}e.deleteObject(a)},onCancel:function(){u.a.info("\u6279\u91cf\u53d6\u6d88\u5220\u9664")}})},a.moreMenu=function(e){return s.a.createElement(p.b,{onClick:function(t){return a.handleMoreMenuClick(e,t)}},s.a.createElement(p.b.Item,{key:"1"},"\u8bbe\u7f6e\u8bfb\u5199\u6743\u9650"),s.a.createElement(p.b.Item,{key:"2"},"\u4e0b\u8f7d"),s.a.createElement(p.b.Item,{key:"3"},"\u590d\u5236\u6587\u4ef6URL"),s.a.createElement(p.b.Item,{key:"4"},"\u5220\u9664"))},a.showSetObjectAclDrawer=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({setObjectAclVisible:!0,currentRecord:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.detailDrawerClose=function(){a.setState({detailVisible:!1,currentRecord:void 0})},a.setObjectAclDrawerClose=function(){a.setState({setObjectAclVisible:!1,currentRecord:void 0})},a.detailDrawerShow=function(e,t){t.preventDefault(),a.setState({detailVisible:!0,currentRecord:e})},a.showDeleteConfirm=function(e,t){t&&t.preventDefault();var n=Object(A.a)(a),r=s.a.createElement("span",null,"\u5220\u9664\u540e\u65e0\u6cd5\u6062\u590d\uff0c\u786e\u5b9a\u5220\u9664\u5417\uff1f");e.isDir&&(r=s.a.createElement("div",null,s.a.createElement("p",{style:{fontWeight:"bold"}},"1. \u5220\u9664\u540e\u65e0\u6cd5\u6062\u590d\uff0c\u786e\u5b9a\u5220\u9664\u5417\uff1f"),s.a.createElement("p",{style:{fontWeight:"bold"}},"2. \u5220\u9664\u76ee\u5f55\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\uff0c\u8bf7\u52ff\u91cd\u590d\u64cd\u4f5c")));var c="/"===e.filePath?e.fileName:"".concat(e.filePath,"/").concat(e.fileName);Re({title:s.a.createElement("div",null,"\u5373\u5c06\u5220\u9664",s.a.createElement("span",{style:{color:"red",margin:"0 5px",fontWeight:"bold"}},c),"\u8bf7\u786e\u8ba4!"),centered:!0,content:r,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){n.deleteObject(c)},onCancel:function(){u.a.info("\u53d6\u6d88\u5220\u9664")}})},a.renderOperate=function(e,t){return s.a.createElement("div",null,s.a.createElement(D.a,{type:"link",size:"small",onClick:function(e){return a.detailDrawerShow(t,e)}},"\u8be6\u60c5"),t.isDir?s.a.createElement(D.a,{type:"link",size:"small",onClick:function(e){return a.showDeleteConfirm(t,e)}},"\u5220\u9664"):s.a.createElement(I.a,{overlay:a.moreMenu(t),size:"small"},s.a.createElement(D.a,{type:"link",size:"small"},"\u66f4\u591a",s.a.createElement(m.a,{type:"down"}))))},a.showDrawer=function(){a.setState({visible:!0})},a.showAddFolderDrawer=function(){a.setState({addFolderVisible:!0})},a.closeDrawer=function(){a.setState({visible:!1})},a.closeAddFolderDrawer=function(){a.setState({addFolderVisible:!1})},a.goPath=function(){var e=Object(b.a)(E.a.mark(function e(t,n){var r,c,l,o,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=a.state.currentPath,c=r.length>1?r.substr(1).split("/"):null,l="/",c)for(o=0;o<t;o++)l+="/"===l?c[o]:"/".concat(c[o]);return s=a.props.location.pathname,e.next=8,a.setState({currentPath:l});case 8:a.props.history.push("".concat(s,"?path=").concat(encodeURIComponent(l))),a.initObjectList();case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();var n=ce(),r=function(e){if(!e||0===e.length||-1===e.indexOf("?"))return null;var t=e.substr(e.indexOf("?")+1).split("&"),a={};return t.forEach(function(e){var t=e.split("=");a[t[0]]=t[1]}),a}(a.props.location.search);return a.state={bucketInfo:n,selectedRowKeys:[],selectedRows:[],objectList:[],bucketName:a.props.match.params.name,visible:!1,currentPath:r?decodeURIComponent(r.path):"/",detailVisible:!1,currentRecord:void 0,tableLoading:!1,addFolderVisible:!1,setObjectAclVisible:!1,search:""},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.initObjectList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.tableLoading,n=t.setObjectAclVisible,r=t.objectList,c=t.selectedRowKeys,l=t.visible,o=t.addFolderVisible,i=t.currentPath,u=t.detailVisible,p=t.currentRecord,d=t.search,f=i.length>1?i.substr(1).split("/"):null,h={selectedRowKeys:c,onChange:this.onSelectChange};return s.a.createElement("div",{className:"file-home"},s.a.createElement("div",{className:"head"},s.a.createElement("div",{className:"header-line"},s.a.createElement("div",{className:"left-btn-group"},s.a.createElement(D.a,{type:"primary",icon:"upload",style:{marginRight:"10px"},onClick:this.showDrawer},"\u4e0a\u4f20"),l?s.a.createElement(fe,{currentPath:i,onClose:this.closeDrawer,visible:l,onSuccess:this.initObjectList}):null,s.a.createElement(D.a,{icon:"folder-add",style:{marginRight:"10px"},onClick:this.showAddFolderDrawer},"\u65b0\u5efa\u76ee\u5f55"),o?s.a.createElement(De,{onClose:this.closeAddFolderDrawer,visible:o,onSuccess:this.initObjectList}):null,s.a.createElement(D.a,{icon:"safety-certificate",style:{marginRight:"10px"}},"\u6388\u6743"),s.a.createElement(I.a,{overlay:this.menu},s.a.createElement(D.a,{style:{marginRight:"10px"}},"\u6279\u91cf\u64cd\u4f5c",s.a.createElement(m.a,{type:"down"}))),s.a.createElement(D.a,{icon:"reload",onClick:this.initObjectList},"\u5237\u65b0")),s.a.createElement("div",{className:"right-operate"},s.a.createElement(Ae,{placeholder:"\u8f93\u5165\u6587\u4ef6\u540d\u524d\u7f00\u5339\u914d",onSearch:function(t){return e.goSearchObject(t)},style:{width:200,marginRight:"10px"}})))),s.a.createElement("div",{className:"list-content"},s.a.createElement("div",{className:"breadcrumb"},s.a.createElement(N.a,{separator:">"},s.a.createElement(N.a.Item,{key:"root",onClick:function(t){return e.goPath(0,t)}},s.a.createElement(D.a,{type:"link"},"\u6211\u7684\u6587\u4ef6")),f&&f.length>0?f.map(function(t,a){return a===f.length-1?s.a.createElement(N.a.Item,{key:a+1},s.a.createElement("span",{style:{padding:"0 8px"}},t)):s.a.createElement(N.a.Item,{key:a,onClick:function(t){return e.goPath(a+1,t)}},s.a.createElement(D.a,{type:"link"},t))}):null)),s.a.createElement("div",{className:"table"},s.a.createElement(O.a,{rowSelection:h,dataSource:r,pagination:!1,rowKey:"id",loading:a,onRow:function(t){return{onClick:function(a){e.onRowClick(t,a)},onDoubleClick:function(a){e.onRowDoubleClick(t,a)},onContextMenu:function(a){e.onRowContextMenu(t,a)},onMouseEnter:function(a){e.onRowMouseEnter(t,a)},onMouseLeave:function(a){e.onRowMouseLeave(t,a)}}}},s.a.createElement(O.a.Column,{title:"\u6587\u4ef6\u540d(Object Name)",dataIndex:"fileName",render:this.renderFileName}),d?s.a.createElement(O.a.Column,{title:"\u8def\u5f84",dataIndex:"filePath"}):null,s.a.createElement(O.a.Column,{title:"\u5927\u5c0f",dataIndex:"formattedSize"}),s.a.createElement(O.a.Column,{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTime"}),s.a.createElement(O.a.Column,{title:"\u64cd\u4f5c",width:180,render:this.renderOperate,align:"center"})),p?s.a.createElement(Se,{info:p,onClose:this.detailDrawerClose,visible:u}):null,n?s.a.createElement(xe,{info:p,onClose:this.setObjectAclDrawerClose,onSuccess:this.initObjectList,visible:n}):null)))}}]),t}(o.Component);Pe.displayName="FileManage";var Le=Pe,Be=(a(504),function(e){function t(e){var a;Object(v.a)(this,t),a=Object(y.a)(this,Object(k.a)(t).call(this,e));var n=ce();return a.state={bucketInfo:n},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.bucketInfo;return s.a.createElement("div",{className:"bucket-overview"},s.a.createElement("div",{className:"oss-box"},s.a.createElement("div",{className:"box-hd"},s.a.createElement("h3",null,"\u57fa\u7840\u8bbe\u7f6e")),s.a.createElement("div",{className:"basic-setting-box"},s.a.createElement("div",{className:"item basic-settings-item"},s.a.createElement("div",{className:"item-key"},"\u8bfb\u5199\u6743\u9650"),s.a.createElement("div",{className:"item-value"},s.a.createElement("div",{className:"value-and-setting"},s.a.createElement("span",null,ve(e.acl)),s.a.createElement("a",{className:"next-btn next-small next-btn-normal go-setting",href:"/#/bucket/berry/settings"},"\u8bbe\u7f6e")))),s.a.createElement("div",{className:"item basic-settings-item"},s.a.createElement("div",{className:"item-key"},"\u9632\u76d7\u94fe"),s.a.createElement("div",{className:"item-value"},s.a.createElement("div",{className:"value-and-setting"},s.a.createElement("span",null,"\u672a\u5f00\u542f"),s.a.createElement("a",{className:"next-btn next-small next-btn-normal go-setting",href:"/#/bucket/berry/settings"},"\u8bbe\u7f6e")))))))}}]),t}(o.Component));Be.displayName="BucketOverview";var Te=Be,Me=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"API \u7edf\u8ba1")}}]),t}(o.Component);Me.displayName="StatsApi";var Ke=Me,Ue=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"\u6587\u4ef6\u8bbf\u95ee\u7edf\u8ba1")}}]),t}(o.Component);Ue.displayName="StatsFile";var We=Ue,ze=(a(505),a(262)),_e=(a(506),a(260)),Fe=(a(508),function(e){return F.get("/ajax/bucket/list.json",{params:e}).then(function(e){return e.data})}),Ve=function(e){return F.post("/ajax/bucket/new_create_bucket.json",e).then(function(e){return e.data})},He=function(e){return F.post("/ajax/bucket/set_acl.json",e).then(function(e){return e.data})},qe=function(e){return F.post("/ajax/bucket/delete_bucket.json",e).then(function(e){return e.data})},Xe=w.a.TextArea,Ge={labelCol:{xs:{span:24},s:{span:5},sm:{span:5}},wrapperCol:{xs:{span:24},s:{span:16},sm:{span:16}}},Je=R.a.confirm,Qe={PRIVATE:s.a.createElement("span",{style:{fontSize:"12px"}},"\u79c1\u6709\uff1a\u5bf9\u6587\u4ef6\u7684\u6240\u6709\u8bbf\u95ee\u64cd\u4f5c\u9700\u8981\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002"),PUBLIC_READ:s.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u516c\u5171\u8bfb\uff1a\u5bf9\u6587\u4ef6\u5199\u64cd\u4f5c\u9700\u8981\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff1b\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u533f\u540d\u8bfb\u3002"),PUBLIC_READ_WRITE:s.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u516c\u5171\u8bfb\u5199\uff1a\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002")},Ye=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).bucketAclChangeSubmit=function(e){e.preventDefault();var t=a.state,n=t.acl,r=t.aclDefault,c=t.bucketInfo,l=t.editStatus;n!==r&&He({acl:n,bucket:c.name}).then(function(e){"SUCCESS"===e.msg&&(u.a.success("\u64cd\u4f5c\u6210\u529f"),l.acl=!1,c.acl=n,le(JSON.stringify(c)),a.setState({editStatus:l,bucketInfo:c,aclDefault:n}))}).catch(function(e){console.log(e)})},a.bucketRefererChangeSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||console.log(t)})},a.doEdit=function(e,t){t.preventDefault();var n=a.state.editStatus;n[e]=!n[e],a.setState({editStatus:n}),n[e]||a.resetDefaultValue(e)},a.resetDefaultValue=function(e){var t=a.state,n=t.bucketInfo,r=t.defaultReferer,c=t.defaultAllowEmpty;"acl"===e?a.setState({acl:n.acl}):"referer"===e&&a.setState({referer:r,allowEmpty:c})},a.refererAllowEmptyChange=function(e){a.setState({allowEmpty:e})},a.refererInputChange=function(e){a.setState({referer:e.target.value})},a.showAclPublicWarning=function(e){var t=e.target.value;if("PRIVATE"!==t){var n="\u5c0a\u656c\u7684\u5ba2\u6237\u60a8\u597d\uff0c\u516c\u5171\u8bfb\uff08public-read\uff09 \u6743\u9650\u53ef\u4ee5\u4e0d\u901a\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u76f4\u63a5\u8bfb\u53d6\u60a8 Bucket \u4e2d\u7684\u6570\u636e\uff0c\u5b89\u5168\u98ce\u9669\u9ad8\uff0c\u4e3a\u786e\u4fdd\u60a8\u7684\u6570\u636e\u5b89\u5168\uff0c\u4e0d\u63a8\u8350\u6b64\u914d\u7f6e\uff0c\u5efa\u8bae\u60a8\u9009\u62e9\u79c1\u6709\uff08private\uff09.";"PUBLIC_READ_WRITE"===t&&(n="\u5c0a\u656c\u7684\u5ba2\u6237\u60a8\u597d\uff0c\u516c\u5171\u8bfb\u5199\uff08public-read-write\uff09 \u6743\u9650\u53ef\u4ee5\u4e0d\u901a\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u76f4\u63a5\u8bfb\u53d6\u60a8 Bucket \u4e2d\u7684\u6570\u636e\uff0c\u5b89\u5168\u98ce\u9669\u9ad8\uff0c\u4e3a\u786e\u4fdd\u60a8\u7684\u6570\u636e\u5b89\u5168\uff0c\u4e0d\u63a8\u8350\u6b64\u914d\u7f6e\uff0c\u5efa\u8bae\u60a8\u9009\u62e9\u79c1\u6709\uff08private\uff09\u3002");var r=Object(A.a)(a);Je({centered:!0,content:n,okText:"\u7ee7\u7eed\u4fee\u6539",cancelText:"\u9009\u62e9\u79c1\u6709",onOk:function(){r.aclChange(t)},onCancel:function(){r.aclChange("PRIVATE")}})}else a.aclChange(t)},a.aclChange=function(e){a.setState({aclMessage:Qe[e],acl:e})},a.confirmDelete=function(){var e=a.state.bucketInfo;qe({bucket:e.name}).then(function(e){"SUCCESS"===e.msg&&(u.a.success("\u5220\u9664\u6210\u529f"),a.props.history.push("/"))}).catch(function(e){console.error(e)})},a.cancelDelete=function(){u.a.info("\u53d6\u6d88\u5220\u9664")};var n=ce();return a.state={bucketInfo:n,aclDefault:n.acl,acl:n.acl,aclMessage:Qe.PRIVATE,defaultReferer:"",referer:"",defaultAllowEmpty:!0,allowEmpty:!0,editStatus:{acl:!1,referer:!1}},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.aclDefault,n=t.acl,r=t.editStatus,c=t.aclMessage,l=t.defaultReferer,o=t.referer,i=t.defaultAllowEmpty,u=t.allowEmpty,m=this.props.form.getFieldDecorator;return s.a.createElement("div",{className:"oss-pg-bucket-setting"},s.a.createElement("div",{className:"oss-rc-sections"},s.a.createElement("article",{className:"the-article"},s.a.createElement("section",{className:"a-section",id:"acl"},s.a.createElement("header",{className:"section-header"},"\u8bfb\u5199\u6743\u9650"),s.a.createElement("div",{className:"form"},s.a.createElement(Z.a,Object.assign({},Ge,{onSubmit:this.bucketAclChangeSubmit}),s.a.createElement(Z.a.Item,{validateStatus:"success",wrapperCol:{span:16,offset:5},colon:!1},s.a.createElement("span",{className:"help-msg"},"OSS ACL \u63d0\u4f9b Bucket \u7ea7\u522b\u7684\u6743\u9650\u8bbf\u95ee\u63a7\u5236")),r.acl?s.a.createElement("div",null,s.a.createElement(Z.a.Item,{colon:!1,label:"Bucket ACL",help:c},s.a.createElement(ee.a.Group,{defaultValue:a,value:n,onChange:this.showAclPublicWarning},s.a.createElement(ee.a.Button,{value:"PRIVATE"},"\u79c1\u6709"),s.a.createElement(ee.a.Button,{value:"PUBLIC_READ"},"\u516c\u5171\u8bfb"),s.a.createElement(ee.a.Button,{value:"PUBLIC_READ_WRITE"},"\u516c\u5171\u8bfb\u5199"))),s.a.createElement(Z.a.Item,{validateStatus:"success",wrapperCol:{span:16,offset:5},colon:!1},s.a.createElement("div",{className:"form-btn"},s.a.createElement(D.a,{type:"normal",htmlType:"submit",style:{marginRight:8},disabled:n===a},"\u4fdd\u5b58"),s.a.createElement(D.a,{onClick:function(t){return e.doEdit("acl",t)}},"\u53d6\u6d88")))):s.a.createElement("div",null,s.a.createElement(Z.a.Item,{colon:!1,label:"Bucket ACL"},s.a.createElement("span",null,ve(n))),s.a.createElement(Z.a.Item,{colon:!1,wrapperCol:{span:16,offset:5}},s.a.createElement(D.a,{type:"normal",onClick:function(t){return e.doEdit("acl",t)}},"\u8bbe\u7f6e")))))),s.a.createElement("section",{className:"a-section",id:"referer"},s.a.createElement("header",{className:"section-header"},"\u9632\u76d7\u94fe"),s.a.createElement("div",{className:"form"},s.a.createElement(Z.a,Object.assign({},Ge,{onSubmit:this.bucketRefererChangeSubmit}),s.a.createElement(Z.a.Item,{validateStatus:"success",wrapperCol:{span:16,offset:5},colon:!1},s.a.createElement("span",{className:"help-msg"},"OSS \u63d0\u4f9b HTTP Referer \u767d\u540d\u5355\u914d\u7f6e\uff0c\u7528\u4e8e\u9632\u6b62\u76d7\u94fe")),r.referer?s.a.createElement("div",null,s.a.createElement(Z.a.Item,{colon:!1,label:"Referer"},m("referer",{initialValue:l})(s.a.createElement(Xe,{onChange:this.refererInputChange,placeholder:"Referer \u901a\u5e38\u4e3a URL \u5730\u5740\uff0c\u652f\u6301\u901a\u914d\u7b26\u300c?\u300d\u548c\u300c*\u300d\uff0c\u591a\u4e2a referer \u4ee5\u6362\u884c\u5206\u9694\u3002"}))),s.a.createElement(Z.a.Item,{colon:!1,label:"\u5141\u8bb8\u7a7a Referer"},m("allowEmpty",{initialValue:i})(s.a.createElement(_e.a,{checked:u,onChange:this.refererAllowEmptyChange}))),s.a.createElement(Z.a.Item,{validateStatus:"success",wrapperCol:{span:16,offset:5},colon:!1},s.a.createElement("div",{className:"form-btn"},s.a.createElement(D.a,{type:"normal",htmlType:"submit",style:{marginRight:8},disabled:u===i&&o===l},"\u4fdd\u5b58"),s.a.createElement(D.a,{onClick:function(t){return e.doEdit("referer",t)}},"\u53d6\u6d88")))):s.a.createElement("div",null,s.a.createElement(Z.a.Item,{colon:!1,label:"Referer"},s.a.createElement("span",null,"\u672a\u8bbe\u7f6e")),s.a.createElement(Z.a.Item,{colon:!1,label:"\u5141\u8bb8\u7a7a Referer"},s.a.createElement("span",null,u?"\u5141\u8bb8":"\u4e0d\u5141\u8bb8")),s.a.createElement(Z.a.Item,{colon:!1,label:"  "},s.a.createElement(D.a,{type:"normal",onClick:function(t){return e.doEdit("referer",t)}},"\u8bbe\u7f6e")))))),s.a.createElement("section",{className:"a-section",id:"delete-bucket"},s.a.createElement("header",{className:"section-header"},"Bucket \u7ba1\u7406"),s.a.createElement("div",{className:"form"},s.a.createElement(Z.a,Ge,s.a.createElement(Z.a.Item,{validateStatus:"success",wrapperCol:{span:16,offset:5},colon:!1},s.a.createElement("span",{className:"help-msg"},"\u53ef\u4ee5\u5bf9 Bucket \u8fdb\u884c\u5220\u9664\u64cd\u4f5c\uff0cBucket \u5220\u9664\u540e\u5c06\u4e0d\u53ef\u6062\u590d\uff0c\u8bf7\u60a8\u8c28\u614e\u64cd\u4f5c")),s.a.createElement(Z.a.Item,{colon:!1,wrapperCol:{span:16,offset:5}},s.a.createElement(ze.a,{title:"\u5220\u9664 Bucket \u540e\u5c06\u4e0d\u53ef\u6062\u590d\uff0c\u786e\u5b9a\u8981\u5220\u9664\u8be5 Bucket \u5417\uff1f",onConfirm:this.confirmDelete,onCancel:this.cancelDelete,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},s.a.createElement(D.a,{type:"danger"},"\u5220\u9664 Bucket")))))))))}}]),t}(o.Component);Ye.displayName="Settings";var $e=Z.a.create({name:"normal_login"})(Ye),Ze=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"\u70ed\u70b9\u6570\u636e")}}]),t}(o.Component);Ze.displayName="StatsHot";var et=Ze,tt=(a(208),a(72)),at=function(e){return F.post("/auth/login",e).then(function(e){return e.data})},nt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).handleSubmit=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),at(t).then(function(e){var t,n;e.token?(u.a.success("\u767b\u5f55\u6210\u529f!"),_(),n=e.token,localStorage.setItem(K,n),t=JSON.stringify(e.userInfo),localStorage.setItem(U,t),a.props.history.push("/")):u.a.error("\u767b\u5f55\u5931\u8d25!")}).catch(function(e){u.a.error("\u767b\u5f55\u5931\u8d25!"),console.error(e)}))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement(Z.a,{onSubmit:this.handleSubmit,className:"form"},s.a.createElement("div",{className:"login-title"},"\u5bc6\u7801\u767b\u5f55"),s.a.createElement(Z.a.Item,null,e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]})(s.a.createElement(w.a,{prefix:s.a.createElement(m.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),s.a.createElement(Z.a.Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(s.a.createElement(w.a,{prefix:s.a.createElement(m.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),s.a.createElement(Z.a.Item,null,e("rememberMe",{valuePropName:"checked",initialValue:!0})(s.a.createElement(tt.a,null,"\u8bb0\u4f4f\u6211")),s.a.createElement(c.b,{className:"login-form-forgot",to:""},"\u5fd8\u8bb0\u5bc6\u7801"),s.a.createElement(D.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55"),s.a.createElement(c.b,{to:""}," \u7acb\u5373\u6ce8\u518c!")))}}]),t}(o.Component);nt.displayName="Login";var rt=Z.a.create({name:"normal_login"})(nt),ct=(a(514),a(91)),lt=(a(113),a(47)),ot=(a(517),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"profile-home"},s.a.createElement("div",{className:"bread"},"\u4e2a\u4eba\u4fe1\u606f"),s.a.createElement(lt.a,{type:"horizontal"}),s.a.createElement(ct.a,{title:"\u57fa\u672c\u4fe1\u606f"},s.a.createElement(ct.a.Item,{label:"\u7528\u6237\u540d"},"admin"),s.a.createElement(ct.a.Item,{label:"\u624b\u673a\u53f7"},"1810000000"),s.a.createElement(ct.a.Item,{label:"\u90ae\u7bb1"},"admin@seassoon.com"),s.a.createElement(ct.a.Item,{label:"\u6240\u5728\u5730"},"Shanghai, Xuhui"),s.a.createElement(ct.a.Item,{label:"\u5907\u6ce8"},"\u65e0")))}}]),t}(o.Component));ot.displayName="PersonInfo";var st=ot,it=a(146),ut=(a(518),a(191)),mt=(a(520),function(e){return F.post("/ajax/access_key/create_access_key.json",e).then(function(e){return e.data})}),pt=[{AccessKeyId:"LTAI6Mf6vkhsILcs",AccessKeySecret:"Lmi3Uz2sdqq6NRwR71FynQqB1wDI6b",createTime:"2019-06-25 22:07:04",state:"\u542f\u7528"},{AccessKeyId:"LTAI6Mf6vkhsILc2",AccessKeySecret:"Lmi3Uz2sdqq6NRwR71FynQqB1wDI6c",createTime:"2019-06-25 22:07:04",state:"\u7981\u7528"}],dt=R.a.confirm,ft=ut.a.Panel,ht=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).showDisableKeyWarning=function(e,t){t.preventDefault();var n=Object(A.a)(a);dt({title:s.a.createElement("div",null,"\u4f60\u786e\u5b9a\u8981",s.a.createElement("span",{style:{color:"red",fontWeight:"bold",margin:"0 5px"}},"\u7981\u7528"),"AccessKey:",s.a.createElement("span",{style:{color:"green",margin:"0 5px",fontWeight:"bold"}},e.AccessKeyId),"\u5417?"),centered:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){n.disableKey(e)}})},a.disableKey=function(e){console.log(e)},a.showEnableKeyWarning=function(e,t){t.preventDefault();var n=Object(A.a)(a);dt({title:s.a.createElement("div",null,"\u4f60\u786e\u5b9a\u8981",s.a.createElement("span",{style:{color:"green",fontWeight:"bold",margin:"0 5px"}},"\u542f\u7528"),"AccessKey:",s.a.createElement("span",{style:{color:"#607D8B",margin:"0 5px",fontWeight:"bold"}},e.AccessKeyId),"\u5417?"),centered:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){n.enableKey(e)}})},a.enableKey=function(e){console.log(e)},a.showDeleteKeyWarning=function(e,t){t.preventDefault();var n=Object(A.a)(a);dt({title:s.a.createElement("div",null,"\u4f60\u786e\u5b9a\u8981",s.a.createElement("span",{style:{color:"red",fontWeight:"bold",margin:"0 5px"}},"\u5220\u9664"),"AccessKey:",s.a.createElement("span",{style:{color:"green",margin:"0 5px",fontWeight:"bold"}},e.AccessKeyId),"\u5417?"),centered:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){n.deleteKey(e)}})},a.deleteKey=function(e){console.log(e)},a.renderOp=function(e,t){return s.a.createElement("div",null,"\u7981\u7528"===t.state?s.a.createElement(D.a,{type:"link",size:"small",onClick:function(e){return a.showEnableKeyWarning(t,e)}},"\u542f\u7528"):s.a.createElement(D.a,{type:"link",size:"small",onClick:function(e){return a.showDisableKeyWarning(t,e)}},"\u7981\u7528"),s.a.createElement(lt.a,{type:"vertical"}),s.a.createElement(D.a,{type:"link",size:"small",onClick:function(e){return a.showDeleteKeyWarning(t,e)}},"\u5220\u9664"))},a.renderState=function(e){return"\u542f\u7528"===e?s.a.createElement("span",{style:{color:"#009900"}},e):"\u7981\u7528"===e?s.a.createElement("span",{style:{color:"red"}},e):void 0},a.renderAccessKeySecret=function(e,t){return a.state.showKeySecret.find(function(e){return e===t.AccessKeyId})?s.a.createElement("div",null,s.a.createElement("span",{className:"access-key-secret-text"},e),s.a.createElement(D.a,{type:"link",size:"small",onClick:function(e){return a.showKeySecret(t,e)}},"\u9690\u85cf")):s.a.createElement(D.a,{type:"link",size:"small",onClick:function(e){return a.showKeySecret(t,e)}},"\u663e\u793a")},a.showKeySecret=function(e,t){t.preventDefault();var n=a.state.showKeySecret,r=n.filter(function(t){return t!==e.AccessKeyId});r.length===n.length&&r.push(e.AccessKeyId),a.setState({showKeySecret:r})},a.saveAKInfo=function(){console.log("save AK info")},a.showModel=function(){a.setState({showCreateModel:!0})},a.closeModel=function(){a.setState({showCreateModel:!1,generateSuccess:!1,genLoading:!1})},a.callback=function(e){console.log(e)},a.handleSubmit=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.props.form.validateFields(function(e,t){e||(a.setState({genLoading:!0}),console.log("Received values of form: ",t),console.log("generate success"),mt(t).then(function(e){"SUCCESS"===e.msg&&console.log(e)}).catch(function(e){console.error(e)}),setTimeout(function(){a.setState({generateSuccess:!0})},500))});case 3:a.setState({genLoading:!1});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={modelLoading:!1,tableLoading:!1,showCreateModel:!1,generateSuccess:!1,genLoading:!1,showKeySecret:[]},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.tableLoading,n=t.generateSuccess,r=t.showCreateModel,c=t.modelLoading,l=t.genLoading;return s.a.createElement("div",{className:"secret-key"},s.a.createElement("div",{className:"bread"},"\u5bc6\u94a5\u7ba1\u7406"),s.a.createElement(lt.a,{type:"horizontal"}),s.a.createElement("div",{className:"help-info"},"\u6ce8\u610f\uff1a\u6bcf\u4e2a\u8d26\u6237\u6700\u591a\u80fd\u521b\u5efa 3\u4e2a \u5bc6\u94a5\u5bf9"),s.a.createElement(Y.a,{style:{margin:"10px 0",fontSize:"12px"},message:"AccessKey ID\u548cAccessKey Secret\u662f\u60a8\u8bbf\u95ee OSS API\u7684\u5bc6\u94a5\uff0c\u5177\u6709\u8be5\u8d26\u6237\u5b8c\u5168\u7684\u6743\u9650\uff0c\u8bf7\u60a8\u59a5\u5584\u4fdd\u7ba1\u3002",type:"warning",showIcon:!0}),s.a.createElement("div",{className:"table-viewer-header"},s.a.createElement("span",{className:"table-viewer-topbar-title"},"\u7528\u6237AccessKey"),pt.length<3?s.a.createElement("div",{className:"pull-right"},s.a.createElement(D.a,{type:"default",size:"small",onClick:this.showModel},"\u521b\u5efaAccessKey")):null),s.a.createElement(O.a,{className:"secret-table",rowKey:"AccessKeyId",dataSource:pt,pagination:!1,loading:a},s.a.createElement(O.a.Column,{title:"AccessKey ID",dataIndex:"AccessKeyId"}),s.a.createElement(O.a.Column,{width:380,title:"Access Key Secret",dataIndex:"AccessKeySecret",render:this.renderAccessKeySecret}),s.a.createElement(O.a.Column,{title:"\u72b6\u6001",dataIndex:"state",render:this.renderState}),s.a.createElement(O.a.Column,{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"}),s.a.createElement(O.a.Column,{title:"\u64cd\u4f5c",render:this.renderOp})),r?s.a.createElement(R.a,{maskClosable:!1,visible:r,title:"\u65b0\u5efa\u7528\u6237 AccessKey",onCancel:this.closeModel,width:650,footer:n?[s.a.createElement(D.a,{key:"cancel",type:"default",onClick:this.closeModel},"\u5173\u95ed"),s.a.createElement(D.a,{key:"submit",type:"primary",loading:c,onClick:this.saveAKInfo},"\u4fdd\u5b58AK\u4fe1\u606f")]:[s.a.createElement(D.a,{key:"submit",type:"default",onClick:this.closeModel},"\u53d6\u6d88")]},n?s.a.createElement("div",null,s.a.createElement(Y.a,{style:{fontSize:"12px"},message:"\u8fd9\u662f\u7528\u6237 AccessKey \u53ef\u4f9b\u4e0b\u8f7d\u7684\u552f\u4e00\u673a\u4f1a\uff0c\u8bf7\u53ca\u65f6\u4fdd\u5b58\uff01",type:"success"}),s.a.createElement("div",{style:{textAlign:"center",lineHeight:"100px"}},s.a.createElement("h1",null,s.a.createElement(m.a,{type:"check-circle",style:{color:"green",marginRight:"10px"}}),"\u65b0\u5efaAccessKey\u6210\u529f\uff01")),s.a.createElement(ut.a,{defaultActiveKey:["1"],onChange:this.callback},s.a.createElement(ft,{header:"AccessKey \u8be6\u60c5",key:"1"},s.a.createElement("div",{style:Et.newAccessKeyDetail},s.a.createElement("div",{style:Object(it.a)({},Et.item,Et.br)},s.a.createElement("p",{style:Et.label},"AccessKeyID:"),s.a.createElement("p",{style:Et.value},"LTAI6Mf6vkhsILc3")),s.a.createElement("div",{style:Et.item},s.a.createElement("p",{style:Et.label},"AccessKeySecret:"),s.a.createElement("p",{style:Et.value},"Lmi3Uz2sdqq6NRwR71FynQqB1wDI6d")))))):s.a.createElement("div",{className:"check-auth"},s.a.createElement(Z.a,{labelCol:{span:8},wrapperCol:{span:12},onSubmit:this.handleSubmit},s.a.createElement(Z.a.Item,{label:"\u6821\u9a8c\u5f53\u524d\u7528\u6237\u5bc6\u7801"},e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f53\u524d\u7528\u6237\u5bc6\u7801!"}]})(s.a.createElement(w.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"}))),s.a.createElement(Z.a.Item,{wrapperCol:{span:12,offset:8}},s.a.createElement(D.a,{type:"primary",htmlType:"submit",loading:l},"\u751f\u6210 AccessKey"))))):null)}}]),t}(o.Component);ht.displayName="SecretKey";var Et={newAccessKeyDetail:{display:"flex"},item:{flex:"1 1 50%",padding:"0 10px"},br:{borderRight:"1px solid #d9d9d9"},label:{fontSize:"12px"},value:{fontSize:"12px",color:"#7d6767",fontWeight:"bold"}},bt=Z.a.create({name:"coordinated"})(ht),vt=(a(521),a(267)),gt=(a(247),a(76)),yt=(a(248),a(116)),kt=a(266),St=(a(525),3),wt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).initData=function(){a.setState({initLoading:!1,data:[{loading:!1,name:"kakaxi 2019-08-08"}],list:[{loading:!1,name:"kakaxi 2019-08-08"}]})},a.onLoadMore=function(){var e=a.state.data,t=e.concat(Object(kt.a)(new Array(St)).map(function(){return{loading:!0,name:{}}}));a.setState({loading:!0,list:t});for(var n=0;n<St;n++)e.push({name:"hello".concat(n,"  2019-08-08")});a.setState({data:e,list:e,loading:!1})},a.state={initLoading:!0,loading:!1,data:[],list:[]},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){var e=this.state,t=e.initLoading,a=e.loading,n=e.list,r=t||a?null:s.a.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},s.a.createElement(D.a,{onClick:this.onLoadMore},"loading more"));return s.a.createElement("div",{className:"sys-setting-home"},s.a.createElement("div",{className:"bread"},"\u7cfb\u7edf\u901a\u77e5"),s.a.createElement(lt.a,{type:"horizontal"}),s.a.createElement(gt.a,{className:"notice-list",loading:t,itemLayout:"horizontal",loadMore:r,dataSource:n,renderItem:function(e){return s.a.createElement(gt.a.Item,{actions:[s.a.createElement(D.a,{type:"link"},"\u6807\u8bb0\u4e3a\u5df2\u8bfb")]},s.a.createElement(vt.a,{avatar:!0,title:!1,loading:e.loading,active:!0},s.a.createElement(gt.a.Item.Meta,{avatar:s.a.createElement(yt.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:s.a.createElement("a",{href:"https://ant.design"},e.name),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"})))}}))}}]),t}(o.Component);wt.displayName="SysNotice";var Ct=wt,jt=(a(526),a(104)),xt=(a(528),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"oplog-home"},s.a.createElement("div",{className:"bread"},"\u64cd\u4f5c\u65e5\u5fd7"),s.a.createElement(lt.a,{type:"horizontal"}),s.a.createElement("div",{className:"oplog-list"},s.a.createElement(jt.a,null,s.a.createElement(jt.a.Item,{color:"green"},"\u521b\u5efa\u7b2c\u4e00\u4e2a\u5bc6\u94a5 2019-06-05 09:12:12"),s.a.createElement(jt.a.Item,{color:"red"},"\u5220\u9664\u5b58\u50a8\u7a7a\u95f4 - berry - 2019-06-03 09:12:12"),s.a.createElement(jt.a.Item,{color:"green"},s.a.createElement("p",null,"\u7f16\u8f91\u4e2a\u4eba\u4fe1\u606f 2019-06-02 09:12:12"),s.a.createElement("p",null,"\u521b\u5efa\u5b58\u50a8\u7a7a\u95f4 - berry - 2019-06-02 10:12:12"),s.a.createElement("p",null,"\u901a\u8fc7\u7ba1\u7406\u5e73\u53f0\u4e0a\u4f20\u7b2c\u4e00\u4e2a\u5bf9\u8c61 - 2019-06-02 12:12:12")),s.a.createElement(jt.a.Item,null,"\u6ce8\u518c\u8d26\u6237 - 2019-06-01 11:11:11"))))}}]),t}(o.Component));xt.displayName="OpLog";var Ot=[{path:"/dashboard/overview",component:x}],Nt=[{path:"/user/login",component:rt,exact:!0}],It=[{path:"/home/profile",component:st,exact:!0},{path:"/home/secret",component:bt,exact:!0},{path:"/home/notice",component:Ct,exact:!0},{path:"/home/oplog",component:xt,exact:!0}],Dt=[{path:"/bucket/:name/overview",component:Te},{path:"/bucket/:name/object",component:Le},{path:"/bucket/:name/stats-api",component:Ke},{path:"/bucket/:name/settings",component:$e},{path:"/bucket/:name/stats-file",component:We},{path:"/bucket/:name/stats-hot",component:et}],At=(a(529),function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"basic-not-found"},s.a.createElement("div",{style:Rt.exceptionContent,className:"exception-content"},s.a.createElement("img",{src:a(530),style:Rt.image,className:"imgException",alt:"\u9875\u9762\u4e0d\u5b58\u5728"}),s.a.createElement("div",{className:"prompt"},s.a.createElement("h3",{style:Rt.title,className:"title"},"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"),s.a.createElement("p",{style:Rt.description,className:"description"},"\u60a8\u8981\u627e\u7684\u9875\u9762\u6ca1\u6709\u627e\u5230\uff0c\u8bf7\u8fd4\u56de",s.a.createElement(c.b,{to:"/"},"\u9996\u9875"),"\u7ee7\u7eed\u6d4f\u89c8"))))}}]),t}(o.Component));At.displayName="NotFound";var Rt={exceptionContent:{display:"flex",justifyContent:"center",alignItems:"center"},title:{color:"#333"},description:{color:"#666"}},Pt=At,Lt=(a(531),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).renderNormalRoute=function(e){return s.a.createElement(l.b,{key:e.path,path:e.path,component:e.component,exact:e.exact})},a.state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement(l.d,null,Dt.map(this.renderNormalRoute),s.a.createElement(l.b,{component:Pt}))}}]),t}(o.Component));Lt.displayName="ChildrenRouter";var Bt=[{name:"\u6982\u89c8",path:"/overview"},{name:"\u6587\u4ef6\u7ba1\u7406",path:"/object"},{name:"\u57fa\u7840\u8bbe\u7f6e",path:"/settings"},{name:"API\u7edf\u8ba1",path:"/stats-api"},{name:"\u6587\u4ef6\u8bbf\u95ee\u7edf\u8ba1",path:"/stats-file"},{name:"\u70ed\u70b9\u6570\u636e",path:"/stats-hot"}],Tt=[{name:"\u6982\u89c8",path:"/dashboard",icon:"dashboard"}],Mt=[{name:"\u4e2a\u4eba\u4e2d\u5fc3",icon:"user",children:[{name:"\u4e2a\u4eba\u4fe1\u606f",path:"/profile"},{name:"\u5bc6\u94a5\u7ba1\u7406",path:"/secret"},{name:"\u64cd\u4f5c\u65e5\u5fd7",path:"/oplog"}]},{name:"\u7cfb\u7edf\u8bbe\u7f6e",icon:"setting",children:[{name:"\u7cfb\u7edf\u901a\u77e5",path:"/notice"},{name:"\u901a\u77e5\u8bbe\u7f6e",path:"/notice-setting"}]}],Kt=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).subMenuSelect=function(e){a.setState({currentActivate:e.key});var t=a.props.location.pathname,n=t.substr(t.lastIndexOf("/")),r=t.replace(n,e.key);r!==a.props.location.pathname&&a.props.history.push(r)};var n=a.props.location.pathname,r=n.substr(n.lastIndexOf("/")),c=ce();return a.state={currentActivate:r,bucketInfo:c},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){var a=e.location.pathname,n=a.substr(a.lastIndexOf("/"));this.setState({currentActivate:n,bucketInfo:ce()})}},{key:"render",value:function(){var e=this.state,t=e.bucketInfo,a=e.currentActivate;return s.a.createElement("div",{className:"bucket-home"},s.a.createElement("div",{className:"bucket-header"},s.a.createElement("h1",null,t.name),s.a.createElement("aside",null,s.a.createElement("span",{className:"info"},s.a.createElement("strong",null,"\u8bfb\u5199\u6743\u9650"),s.a.createElement("span",{className:"oss-rc-acl"},ve(t.acl))),s.a.createElement("span",{className:"info"},s.a.createElement("strong",null,"\u7c7b\u578b"),"\u6807\u51c6\u5b58\u50a8"),s.a.createElement("span",{className:"info"},s.a.createElement("strong",null,"\u533a\u57df"),t.regionName),s.a.createElement("span",{className:"info"},s.a.createElement("strong",null,"\u521b\u5efa\u65f6\u95f4"),s.a.createElement("span",null,t.createTime)))),s.a.createElement("div",{className:"menu"},s.a.createElement(p.b,{onSelect:this.subMenuSelect,theme:"light",mode:"horizontal",defaultSelectedKeys:[a],selectedKeys:[a],style:{lineHeight:"46px"}},Bt&&Bt.length>0?Bt.map(function(e){return s.a.createElement(p.b.Item,{key:e.path},e.name)}):null)),s.a.createElement("div",{className:"oss-bucket-content"},s.a.createElement(Lt,null)))}}]),t}(o.Component),Ut=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).renderNormalRoute=function(e){return s.a.createElement(l.b,{key:e.path,path:e.path,component:e.component,exact:e.exact})},a.state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement(l.d,null,Ot.map(this.renderNormalRoute),s.a.createElement(l.b,{path:"/bucket/:name/*",exact:!0,component:Kt}),s.a.createElement(l.b,{component:Pt}))}}]),t}(o.Component);Ut.displayName="MainRouter";a(532),a(211);var Wt=a(75),zt={labelCol:{xs:{span:24},s:{span:5},sm:{span:4}},wrapperCol:{xs:{span:24},s:{span:19},sm:{span:20}}},_t=Wt.a.Option,Ft={PRIVATE:s.a.createElement("span",{style:{fontSize:"12px"}},"\u79c1\u6709\uff1a\u5bf9\u6587\u4ef6\u7684\u6240\u6709\u8bbf\u95ee\u64cd\u4f5c\u9700\u8981\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002"),PUBLIC_READ:s.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u516c\u5171\u8bfb\uff1a\u5bf9\u6587\u4ef6\u5199\u64cd\u4f5c\u9700\u8981\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff1b\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u533f\u540d\u8bfb\u3002"),PUBLIC:s.a.createElement("span",{style:{color:"red",fontSize:"12px"}},"\u516c\u5171\u8bfb\u5199\uff1a\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u5bf9\u6587\u4ef6\u8fdb\u884c\u8bfb\u5199\u64cd\u4f5c\u3002")},Vt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).createBucketSubmit=function(e){e.preventDefault(),a.setState({submitLoading:!0}),a.props.form.validateFields(function(e,t){e||Ve(t).then(function(e){"SUCCESS"===e.msg?(u.a.success("\u521b\u5efa Bucket ".concat(t.name,"\u6210\u529f!")),a.props.onSuccess(),a.props.onClose()):u.a.error(e.msg)}).catch(function(e){console.error(e),u.a.error("\u521b\u5efa\u5931\u8d25")})}),a.setState({submitLoading:!1})},a.aclChange=function(e){e.preventDefault(),a.setState({aclMessage:Ft[e.target.value]})},a.checkBucketName=function(e,t,n){!t||t.trim().length<3||t.trim().length>63?n(s.a.createElement("span",{style:{fontSize:"12px"}},"\u8bf7\u8f93\u5165 Bucket \u540d\u79f0\uff0c3-63\u4e2a\u5b57\u7b26\u957f\u5ea6")):/^[a-z0-9][a-z0-9-]{1,61}[a-z0-9]$/.test(t)?(a.setState({name:t}),n()):n(s.a.createElement("span",{style:{fontSize:"12px"}},"\u53ea\u5141\u8bb8\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e2d\u5212\u7ebf\uff08-\uff09\uff0c\u4e14\u4e0d\u80fd\u4ee5\u77ed\u6a2a\u7ebf\u5f00\u5934\u6216\u7ed3\u5c3e"))},a.state={acl:"PRIVATE",name:"",submitLoading:!1,aclMessage:Ft.PRIVATE,region:"oss-shanghai-1"},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.acl,n=e.submitLoading,r=e.aclMessage,c=e.region,l=this.props.form,o=l.getFieldDecorator,i=l.getFieldError;return s.a.createElement($.a,{width:640,placement:"right",closable:!0,maskClosable:!1,onClose:this.props.onClose,visible:this.props.visible,className:"oss-drawer",title:"\u65b0\u5efa Bucket"},s.a.createElement(Z.a,Object.assign({},zt,{onSubmit:this.createBucketSubmit}),s.a.createElement(Z.a.Item,{label:"Bucket \u540d\u79f0",extra:s.a.createElement("span",{style:{fontSize:"12px"}},"Bucket \u540d\u79f0\uff0c3-63 \u4e2a\u5b57\u7b26")},o("name",{rules:[{required:!0},{validator:this.checkBucketName}],initialValue:t})(s.a.createElement(w.a,{placeholder:"Bucket",suffix:"".concat(t.length,"/254")}))),s.a.createElement(Z.a.Item,{label:"\u6240\u5c5e\u533a\u57df",validateStatus:"success"},o("region",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6240\u5c5e\u533a\u57df!"}],initialValue:c})(s.a.createElement(Wt.a,{placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u533a\u57df"},s.a.createElement(_t,{value:"oss-shanghai-1"},"\u534e\u4e1c1 \u4e0a\u6d77")))),s.a.createElement(Z.a.Item,{label:"\u8bfb\u5199\u6743\u9650",validateStatus:"success",help:r},o("acl",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bfb\u5199\u6743\u9650!"}],initialValue:a})(s.a.createElement(ee.a.Group,{onChange:this.aclChange},s.a.createElement(ee.a.Button,{value:"PRIVATE"},"\u79c1\u6709"),s.a.createElement(ee.a.Button,{value:"PUBLIC_READ"},"\u516c\u5171\u8bfb"),s.a.createElement(ee.a.Button,{value:"PUBLIC"},"\u516c\u5171\u8bfb\u5199")))),s.a.createElement("div",{className:"form-btn"},s.a.createElement(D.a,{loading:n,type:"primary",htmlType:"submit",style:{marginRight:8},disabled:!!i("name")||!t},"\u786e\u8ba4"),s.a.createElement(D.a,{onClick:this.props.onClose},"\u53d6\u6d88"))))}}]),t}(o.Component);Vt.displayName="AddBucketDrawer";var Ht=Z.a.create({name:"normal_login"})(Vt),qt=(a(533),a(192)),Xt=(a(535),C.a.Header),Gt=[{title:"\u7cfb\u7edf\u901a\u77e5 1"},{title:"\u7cfb\u7edf\u901a\u77e5 2"},{title:"\u7cfb\u7edf\u901a\u77e5 3"},{title:"\u7cfb\u7edf\u901a\u77e5 4"}],Jt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).userInfo=z()?JSON.parse(z()):{username:""},a.text=function(){var e=a.state,t=e.username,n=e.color;return s.a.createElement("div",{className:"personal"},s.a.createElement(yt.a,{style:{backgroundColor:n,verticalAlign:"middle",marginRight:"5px"},size:"large"},t.substr(0,1)),s.a.createElement("span",null,t))},a.logout=function(e){e.preventDefault(),_(),localStorage.clear(),window.location.replace("".concat(window.location.protocol,"//").concat(window.location.host,"/#/user/login"))},a.goPage=function(e,t){t.preventDefault(),window.location.replace("".concat(window.location.protocol,"//").concat(window.location.host,"/#").concat(e)),a.setState({noticePopShow:!1,personPopShow:!1})},a.content=function(){return s.a.createElement("div",{className:"personal-card-content"},s.a.createElement("div",{className:"btn-group"},s.a.createElement("div",{className:"item",onClick:function(e){return a.goPage("/home/profile",e)}},s.a.createElement(m.a,{type:"user",style:{fontSize:"20px"}}),s.a.createElement("div",{className:"title"},"\u4e2a\u4eba\u4e2d\u5fc3")),s.a.createElement("div",{className:"item",onClick:function(e){return a.goPage("/home/secret",e)}},s.a.createElement(m.a,{type:"key",style:{fontSize:"20px"}}),s.a.createElement("div",{className:"title"},"\u5bc6\u94a5\u7ba1\u7406"))),s.a.createElement(lt.a,{style:{margin:"10px 0"}}),s.a.createElement("div",{className:"footer"},s.a.createElement(D.a,{type:"link",style:{color:"#ccccccc"},onClick:a.logout},s.a.createElement(m.a,{type:"poweroff"}),"\u9000\u51fa\u5f53\u524d\u8d26\u6237")))},a.noticePopContent=function(){return s.a.createElement("div",{className:"notice-card-content"},s.a.createElement("div",{className:"notice-list"},s.a.createElement(gt.a,{size:"small",itemLayout:"horizontal",dataSource:Gt,renderItem:function(e){return s.a.createElement(gt.a.Item,null,s.a.createElement(gt.a.Item.Meta,{avatar:s.a.createElement(qt.a,{status:"processing"}),title:s.a.createElement("a",{href:"https://ant.design",style:{fontSize:"12px"}},e.title),description:s.a.createElement("span",{style:{fontSize:"10px"}},"Message, message, message")}))}})),s.a.createElement(lt.a,{style:{margin:"10px 0"}}),s.a.createElement("div",{className:"footer"},s.a.createElement(D.a,{type:"link",style:{color:"#ccccccc"},onClick:function(e){return a.goPage("/home/notice",e)}},s.a.createElement(m.a,{type:"more"}),"\u66f4\u591a\u901a\u77e5")))},a.handleVisibleChange=function(e){a.setState({noticePopShow:e})},a.handlePersonVisibleChange=function(e){a.setState({personPopShow:e})},a.state={color:"#00a2ae",username:a.userInfo.username,noticePopShow:!1,personPopShow:!1},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.color,n=t.username,r=t.noticePopShow,c=t.personPopShow;return s.a.createElement(Xt,{className:"default-header"},s.a.createElement("div",{className:"left"},s.a.createElement("div",{className:"logo",onClick:function(t){return e.goPage("/",t)}},s.a.createElement(m.a,{type:"hdd"}),s.a.createElement("span",{style:{marginLeft:"5px"}},"\u5bf9\u8c61\u5b58\u50a8OSS"))),s.a.createElement("div",{className:"right"},s.a.createElement(i.a,{placement:"bottomRight",title:s.a.createElement("span",null,"\u7cfb\u7edf\u901a\u77e5(5\u672a\u8bfb)"),content:this.noticePopContent(),trigger:"click",visible:r,className:"notice-bell",onVisibleChange:this.handleVisibleChange},s.a.createElement("div",{className:"notice-icon"},s.a.createElement(qt.a,{dot:!0},s.a.createElement(m.a,{type:"bell"})))),s.a.createElement(i.a,{placement:"bottomRight",title:this.text(),content:this.content(),trigger:"click",visible:c,className:"personal-info",onVisibleChange:this.handlePersonVisibleChange},s.a.createElement("div",null,s.a.createElement(yt.a,{style:{backgroundColor:a,verticalAlign:"middle",marginRight:"5px"}},n.substr(0,1).toLocaleUpperCase()),s.a.createElement("span",{style:{fontWeight:"bold",marginRight:"5px"}},n)))))}}]),t}(o.Component);Jt.displayName="LoginHeader";var Qt=Jt,Yt=C.a.Content,$t=C.a.Sider,Zt=w.a.Search,ea=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).userInfo=z()?JSON.parse(z()):{username:""},a.initBucketList=function(){var e=a.state.name;Fe({name:e}).then(function(e){"SUCCESS"===e.msg&&a.setState({bucketList:e.data})}).catch(function(e){console.error(e)})},a.searchBucket=function(){var e=Object(b.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({name:t});case 2:a.initBucketList();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.subMenuSelect=function(e){var t=e.key.split("/")[2],n=a.state.bucketList.find(function(e){return e.name===t});le(JSON.stringify(n));var r=a.props.location;"".concat(e.key,"/overview")!==r.pathname+r.search&&a.props.history.push("".concat(e.key,"/overview"))},a.renderBucketList=function(e){return s.a.createElement(p.b.Item,{key:"/bucket/".concat(e.name)},s.a.createElement(d.a,null,s.a.createElement(f.a,{span:4},s.a.createElement("span",{className:"bucket-dot"})),s.a.createElement(f.a,{span:20},e.name)))},a.renderMenuItem=function(e){return s.a.createElement(p.b.Item,{key:e.path},s.a.createElement(d.a,null,s.a.createElement(f.a,{span:4},s.a.createElement(m.a,{type:e.icon,theme:"filled"})),s.a.createElement(f.a,{span:20},e.name)))},a.showDrawer=function(){a.setState({visible:!0})},a.onClose=function(){a.setState({visible:!1})},a.flushList=Object(b.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u.a.loading("\u5237\u65b0\u4e2d...",.5),a.initBucketList();case 2:case"end":return e.stop()}},e)}));var n=a.props.location.pathname,r=n.substr(0,n.lastIndexOf("/"));return a.state={activateMenuPath:r,bucketList:[],visible:!1,name:""},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.initBucketList()}},{key:"componentWillReceiveProps",value:function(e,t){var a=e.location.pathname,n=a.substr(0,a.lastIndexOf("/"));this.setState({activateMenuPath:n})}},{key:"render",value:function(){var e=this,t=this.state,a=t.activateMenuPath,n=t.bucketList,r=t.visible;return s.a.createElement(C.a,{className:"basic-layout"},s.a.createElement(Qt,null),s.a.createElement(C.a,{className:"main-section"},s.a.createElement($t,{width:200,className:"default-side"},s.a.createElement(p.b,{onSelect:this.subMenuSelect,mode:"inline",defaultOpenKeys:["1"],defaultSelectedKeys:[a],selectedKeys:[a],style:{height:"100%",borderRight:0}},Tt.map(this.renderMenuItem),s.a.createElement("div",{className:"operate"},s.a.createElement(Zt,{placeholder:"\u641c\u7d22\u5b58\u50a8\u7a7a\u95f4",onSearch:function(t){return e.searchBucket(t)},style:{width:130}})),s.a.createElement("div",{className:"bucket-list-title"},s.a.createElement("span",null,"\u5b58\u50a8\u7a7a\u95f4"),s.a.createElement("div",null,s.a.createElement(i.a,{placement:"top",content:"\u65b0\u5efaBucket",trigger:"hover"},s.a.createElement(m.a,{type:"plus",style:{cursor:"pointer",marginRight:"8px"},onClick:this.showDrawer})),s.a.createElement(Ht,{onClose:this.onClose,visible:r,onSuccess:this.initBucketList}),s.a.createElement(i.a,{placement:"top",content:"\u5237\u65b0",trigger:"hover"},s.a.createElement(m.a,{type:"sync",style:{cursor:"pointer"},onClick:this.flushList})))),n.map(this.renderBucketList))),s.a.createElement(C.a,{className:"main-content"},s.a.createElement(Yt,{className:"content"},s.a.createElement(Ut,null)))))}}]),t}(o.Component);ea.displayName="BasicLayout";var ta=Object(l.f)(ea),aa=function(){return s.a.createElement("div",{style:na.footer},s.a.createElement("div",{style:na.links},s.a.createElement("span",{style:na.link},"\u5e2e\u52a9"),s.a.createElement("span",{style:na.link},"\u9690\u79c1"),s.a.createElement("span",{style:Object(it.a)({},na.link,{marginRight:"0"})},"\u6761\u6b3e")),s.a.createElement("div",{style:na.copyright},"Berry Cooper \xa9 2019 \u7248\u6743\u6240\u6709"))},na={footer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"fixed",left:"0",right:"0",bottom:"20px"},links:{marginBottom:"8px"},link:{fontSize:"13px",marginRight:"40px",color:"#fff"},copyright:{fontSize:"13px",color:"#fff",lineHeight:1.5,textAlign:"right"}},ra=(a(536),function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("header",null,s.a.createElement("div",{className:"header-banner"},s.a.createElement("h1",null,s.a.createElement(m.a,{type:"hdd"}),"\u5bf9\u8c61\u5b58\u50a8 OSS"))),s.a.createElement("div",{className:"login-body"},s.a.createElement("div",{className:"login-box"},s.a.createElement("div",{className:"banner"},s.a.createElement("div",{className:"title"},s.a.createElement("h1",null,"Balabala OSS"))),s.a.createElement("div",{className:"login-form"},s.a.createElement(l.d,null,Nt.map(function(e,t){return e.component?s.a.createElement(l.b,{key:t,path:e.path,component:e.component,exact:e.exact}):null}),s.a.createElement(l.a,{exact:!0,strict:!0,from:"/user/*",to:"/user/login"}))))),s.a.createElement(aa,null))}}]),t}(o.Component)),ca=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).renderNormalRoute=function(e){return s.a.createElement(l.b,{key:e.path,path:e.path,component:e.component,exact:e.exact})},a.state={},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return s.a.createElement(l.d,null,It.map(this.renderNormalRoute),s.a.createElement(l.b,{component:Pt}))}}]),t}(o.Component);ca.displayName="UserRouter";a(537);var la=p.b.SubMenu,oa=C.a.Content,sa=C.a.Sider,ia=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).subMenuSelect=function(e){a.setState({currentActivate:e.key});var t=a.props.match.url+e.key;t!==a.props.location.pathname&&a.props.history.push(t)};var n=a.props.location.pathname,r=n.substr(n.lastIndexOf("/"));return a.state={currentActivate:r},a}return Object(S.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){var a=e.location.pathname,n=a.substr(a.lastIndexOf("/"));this.setState({currentActivate:n})}},{key:"render",value:function(){var e=this.state.currentActivate;return s.a.createElement(C.a,{style:{height:"100%"}},s.a.createElement(Qt,null),s.a.createElement(C.a,{style:{marginTop:"65px",height:"100%"}},s.a.createElement(sa,{width:200,className:"user-sider"},s.a.createElement(p.b,{onSelect:this.subMenuSelect,mode:"inline",defaultSelectedKeys:[e],selectedKeys:[e],defaultOpenKeys:["0","1"],style:{height:"100%",borderRight:0}},Mt&&Mt.length>0?Mt.map(function(e,t){return s.a.createElement(la,{key:t,title:s.a.createElement("span",null,s.a.createElement(m.a,{type:e.icon}),e.name)},e.children&&e.children.length>0?e.children.map(function(e){return s.a.createElement(p.b.Item,{key:e.path},e.name)}):null)}):null)),s.a.createElement(C.a,{style:{padding:"0 18px"}},s.a.createElement(oa,{style:{background:"#fff",padding:18,margin:0,height:"100%",overflowY:"auto",minHeight:280}},s.a.createElement(ca,null)))))}}]),t}(o.Component);ia.displayName="UserLayout";var ua=s.a.createElement(c.a,null,s.a.createElement(l.d,null,s.a.createElement(l.a,{exact:!0,strict:!0,from:"/",to:"/dashboard/overview"}),s.a.createElement(l.b,{path:"/user",component:ra}),s.a.createElement(l.b,{path:"/home",component:ia}),s.a.createElement(l.b,{path:"/",component:ta}))),ma=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pa(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(538);r.a.render(ua,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ma?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pa(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):pa(t,e)})}}()}},[[269,1,2]]]);